<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leaderboard - ReWear</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics-compat.js"></script>
    <script src="firebase/firebase-config.js"></script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container">
        <a class="navbar-brand fw-bold" href="index.html">
          <i class="fas fa-recycle me-2"></i>ReWear
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="browse.html">Browse Items</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="leaderboard.html">Leaderboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="dashboard.html">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="add-item.html">Add Item</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#" id="logoutBtn">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid" style="margin-top: 80px">
      <!-- Header -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="text-center">
            <h1 class="fw-bold">üèÜ Top Donors Leaderboard</h1>
            <p class="text-muted">
              Celebrating our community's most generous contributors
            </p>
          </div>
        </div>
      </div>

      <!-- Stats Cards -->
      <div class="row mb-4">
        <div class="col-md-3 mb-3">
          <div class="card shadow-sm text-center">
            <div class="card-body">
              <i class="fas fa-users fa-2x text-success mb-2"></i>
              <h4 class="fw-bold text-success">1,250+</h4>
              <p class="text-muted mb-0">Active Donors</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card shadow-sm text-center">
            <div class="card-body">
              <i class="fas fa-gift fa-2x text-primary mb-2"></i>
              <h4 class="fw-bold text-primary">5,680+</h4>
              <p class="text-muted mb-0">Items Donated</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card shadow-sm text-center">
            <div class="card-body">
              <i class="fas fa-star fa-2x text-warning mb-2"></i>
              <h4 class="fw-bold text-warning">45,200+</h4>
              <p class="text-muted mb-0">Total Points</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-3">
          <div class="card shadow-sm text-center">
            <div class="card-body">
              <i class="fas fa-medal fa-2x text-info mb-2"></i>
              <h4 class="fw-bold text-info">850+</h4>
              <p class="text-muted mb-0">Badges Earned</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Filters -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-4">
                  <label class="form-label fw-bold">Time Period</label>
                  <select class="form-select" id="timeFilter">
                    <option value="all-time">All Time</option>
                    <option value="monthly">This Month</option>
                    <option value="weekly">This Week</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label class="form-label fw-bold">Category</label>
                  <select class="form-select" id="categoryFilter">
                    <option value="">All Categories</option>
                    <option value="Men">Men's Clothing</option>
                    <option value="Women">Women's Clothing</option>
                    <option value="Kids">Kids' Clothing</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label class="form-label fw-bold">Sort By</label>
                  <select class="form-select" id="sortFilter">
                    <option value="points">Total Points</option>
                    <option value="items">Items Donated</option>
                    <option value="rating">Average Rating</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Leaderboard -->
      <div class="row">
        <div class="col-12">
          <div class="card shadow">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0"><i class="fas fa-trophy me-2"></i>Top Donors</h5>
            </div>
            <div class="card-body p-0">
              <!-- Top 3 Podium -->
              <div class="podium-section bg-light p-4">
                <div class="row justify-content-center align-items-end">
                  <!-- 2nd Place -->
                  <div class="col-md-3 text-center">
                    <div class="podium-item second-place">
                      <div class="podium-number">2</div>
                      <img
                        src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                        alt="Rahul K."
                        class="rounded-circle mb-2"
                        width="80"
                        height="80"
                      />
                      <h6 class="fw-bold">Rahul K.</h6>
                      <p class="text-muted mb-1">580 points</p>
                      <div class="badges mb-2">
                        <span class="badge bg-success">üü¢</span>
                        <span class="badge bg-success">‚≠ê</span>
                      </div>
                      <small class="text-muted">12 items donated</small>
                    </div>
                  </div>

                  <!-- 1st Place -->
                  <div class="col-md-3 text-center">
                    <div class="podium-item first-place">
                      <div class="podium-number">1</div>
                      <img
                        src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                        alt="Priya S."
                        class="rounded-circle mb-2"
                        width="100"
                        height="100"
                      />
                      <h6 class="fw-bold">Priya S.</h6>
                      <p class="text-muted mb-1">650 points</p>
                      <div class="badges mb-2">
                        <span class="badge bg-success">üåø</span>
                        <span class="badge bg-success">üü¢</span>
                        <span class="badge bg-success">‚≠ê</span>
                      </div>
                      <small class="text-muted">15 items donated</small>
                    </div>
                  </div>

                  <!-- 3rd Place -->
                  <div class="col-md-3 text-center">
                    <div class="podium-item third-place">
                      <div class="podium-number">3</div>
                      <img
                        src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                        alt="Divya M."
                        class="rounded-circle mb-2"
                        width="80"
                        height="80"
                      />
                      <h6 class="fw-bold">Divya M.</h6>
                      <p class="text-muted mb-1">500 points</p>
                      <div class="badges mb-2">
                        <span class="badge bg-success">üåø</span>
                        <span class="badge bg-success">üèÜ</span>
                      </div>
                      <small class="text-muted">18 items donated</small>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Full Leaderboard List -->
              <div class="leaderboard-list">
                <div
                  class="leaderboard-item d-flex align-items-center p-4 border-bottom"
                >
                  <div class="rank me-3">
                    <span class="badge bg-secondary">4</span>
                  </div>
                  <div class="avatar me-3">
                    <img
                      src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                      alt="Avatar"
                      class="rounded-circle"
                      width="50"
                      height="50"
                    />
                  </div>
                  <div class="info flex-grow-1">
                    <h6 class="fw-bold mb-1">Alex P.</h6>
                    <p class="text-muted mb-1">
                      8 items donated ‚Ä¢ 4.8 avg rating
                    </p>
                    <div class="badges">
                      <span class="badge bg-success me-1">üü¢</span>
                      <span class="badge bg-success">üåø</span>
                    </div>
                  </div>
                  <div class="stats text-end me-3">
                    <h6 class="fw-bold text-success mb-0">450</h6>
                    <small class="text-muted">points</small>
                  </div>
                  <div class="actions">
                    <button
                      class="btn btn-outline-success btn-sm"
                      onclick="viewProfile('alex')"
                    >
                      <i class="fas fa-user me-1"></i>View Profile
                    </button>
                  </div>
                </div>

                <div
                  class="leaderboard-item d-flex align-items-center p-4 border-bottom"
                >
                  <div class="rank me-3">
                    <span class="badge bg-secondary">5</span>
                  </div>
                  <div class="avatar me-3">
                    <img
                      src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                      alt="Avatar"
                      class="rounded-circle"
                      width="50"
                      height="50"
                    />
                  </div>
                  <div class="info flex-grow-1">
                    <h6 class="fw-bold mb-1">Sarah M.</h6>
                    <p class="text-muted mb-1">
                      10 items donated ‚Ä¢ 4.9 avg rating
                    </p>
                    <div class="badges">
                      <span class="badge bg-success me-1">üü¢</span>
                      <span class="badge bg-success me-1">üåø</span>
                      <span class="badge bg-success">ü§ù</span>
                    </div>
                  </div>
                  <div class="stats text-end me-3">
                    <h6 class="fw-bold text-success mb-0">420</h6>
                    <small class="text-muted">points</small>
                  </div>
                  <div class="actions">
                    <button
                      class="btn btn-outline-success btn-sm"
                      onclick="viewProfile('sarah')"
                    >
                      <i class="fas fa-user me-1"></i>View Profile
                    </button>
                  </div>
                </div>

                <div
                  class="leaderboard-item d-flex align-items-center p-4 border-bottom"
                >
                  <div class="rank me-3">
                    <span class="badge bg-secondary">6</span>
                  </div>
                  <div class="avatar me-3">
                    <img
                      src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                      alt="Avatar"
                      class="rounded-circle"
                      width="50"
                      height="50"
                    />
                  </div>
                  <div class="info flex-grow-1">
                    <h6 class="fw-bold mb-1">Maria S.</h6>
                    <p class="text-muted mb-1">
                      6 items donated ‚Ä¢ 4.7 avg rating
                    </p>
                    <div class="badges">
                      <span class="badge bg-success me-1">üü¢</span>
                      <span class="badge bg-success">‚≠ê</span>
                    </div>
                  </div>
                  <div class="stats text-end me-3">
                    <h6 class="fw-bold text-success mb-0">380</h6>
                    <small class="text-muted">points</small>
                  </div>
                  <div class="actions">
                    <button
                      class="btn btn-outline-success btn-sm"
                      onclick="viewProfile('maria')"
                    >
                      <i class="fas fa-user me-1"></i>View Profile
                    </button>
                  </div>
                </div>

                <div
                  class="leaderboard-item d-flex align-items-center p-4 border-bottom"
                >
                  <div class="rank me-3">
                    <span class="badge bg-secondary">7</span>
                  </div>
                  <div class="avatar me-3">
                    <img
                      src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                      alt="Avatar"
                      class="rounded-circle"
                      width="50"
                      height="50"
                    />
                  </div>
                  <div class="info flex-grow-1">
                    <h6 class="fw-bold mb-1">John D.</h6>
                    <p class="text-muted mb-1">
                      9 items donated ‚Ä¢ 4.6 avg rating
                    </p>
                    <div class="badges">
                      <span class="badge bg-success me-1">üü¢</span>
                      <span class="badge bg-success">‚ôª</span>
                    </div>
                  </div>
                  <div class="stats text-end me-3">
                    <h6 class="fw-bold text-success mb-0">350</h6>
                    <small class="text-muted">points</small>
                  </div>
                  <div class="actions">
                    <button
                      class="btn btn-outline-success btn-sm"
                      onclick="viewProfile('john')"
                    >
                      <i class="fas fa-user me-1"></i>View Profile
                    </button>
                  </div>
                </div>

                <div class="leaderboard-item d-flex align-items-center p-4">
                  <div class="rank me-3">
                    <span class="badge bg-secondary">8</span>
                  </div>
                  <div class="avatar me-3">
                    <img
                      src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80"
                      alt="Avatar"
                      class="rounded-circle"
                      width="50"
                      height="50"
                    />
                  </div>
                  <div class="info flex-grow-1">
                    <h6 class="fw-bold mb-1">Lisa K.</h6>
                    <p class="text-muted mb-1">
                      7 items donated ‚Ä¢ 4.5 avg rating
                    </p>
                    <div class="badges">
                      <span class="badge bg-success">üü¢</span>
                    </div>
                  </div>
                  <div class="stats text-end me-3">
                    <h6 class="fw-bold text-success mb-0">320</h6>
                    <small class="text-muted">points</small>
                  </div>
                  <div class="actions">
                    <button
                      class="btn btn-outline-success btn-sm"
                      onclick="viewProfile('lisa')"
                    >
                      <i class="fas fa-user me-1"></i>View Profile
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Load More Button -->
      <div class="row mt-4">
        <div class="col-12 text-center">
          <button class="btn btn-outline-success btn-lg" id="loadMoreBtn">
            <i class="fas fa-plus me-2"></i>Load More
          </button>
        </div>
      </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal fade" id="profileModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <h5 class="modal-title">
              <i class="fas fa-user me-2"></i>Donor Profile
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-4 text-center">
                <img
                  src=""
                  alt="Profile"
                  class="rounded-circle mb-3"
                  width="120"
                  height="120"
                  id="modalProfileImage"
                />
                <h5 class="fw-bold" id="modalProfileName"></h5>
                <p class="text-muted" id="modalProfileEmail"></p>
                <div class="badges mb-3" id="modalProfileBadges"></div>
              </div>
              <div class="col-md-8">
                <div class="row mb-3">
                  <div class="col-6">
                    <div class="text-center p-3 bg-light rounded">
                      <h4 class="fw-bold text-success" id="modalTotalPoints">
                        0
                      </h4>
                      <small class="text-muted">Total Points</small>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="text-center p-3 bg-light rounded">
                      <h4 class="fw-bold text-primary" id="modalTotalItems">
                        0
                      </h4>
                      <small class="text-muted">Items Donated</small>
                    </div>
                  </div>
                </div>
                <div class="mb-3">
                  <h6 class="fw-bold">Recent Donations</h6>
                  <div id="modalRecentDonations"></div>
                </div>
                <div class="mb-3">
                  <h6 class="fw-bold">Recent Feedback</h6>
                  <div id="modalRecentFeedback"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-success">
              <i class="fas fa-gift me-2"></i>View Their Items
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/leaderboard.js"></script>
  </body>
</html>
